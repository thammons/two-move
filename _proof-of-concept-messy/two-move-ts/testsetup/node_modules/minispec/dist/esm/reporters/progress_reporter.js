import SummaryReporter from './summary_reporter.js';
export default class ProgressReporter extends SummaryReporter {
    constructor() {
        super(...arguments);
        this.initialNewlinePrinted = false;
    }
    startContext(context) {
        if (!this.initialNewlinePrinted) {
            this.outStream.write('\n');
            this.initialNewlinePrinted = true;
        }
        super.startContext(context);
    }
    stopTest(error) {
        super.stopTest(error);
        if (error) {
            if (error.message === 'skipped') {
                this.outStream.write(this.yellow('S'));
            }
            else {
                this.outStream.write(this.red('F'));
            }
        }
        else {
            this.outStream.write(this.green('.'));
        }
    }
    summarizeExecution() {
        this.outStream.write('\n');
        super.summarizeExecution();
    }
}
